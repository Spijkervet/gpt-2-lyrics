(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{169:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(27),c=a.n(s),r=(a(60),a(28)),i=a(29),o=a(31),u=a(30),m=a(2),h=a(32),d=a(54),g=a.n(d),p=(a(166),a(167),a(168),a(169),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).attachQuillRefs=function(){"function"===typeof a.reactQuillRef.getEditor&&(a.quillRef=a.reactQuillRef.getEditor())},a.formats=["header","bold","italic","underline","strike","color","align","indent","mention"],a.modules={toolbar:{container:"#toolbar"},keyboard:{bindings:{tab:{key:9,handler:function(){console.log("tab");var e=a.quillRef.getText();console.log(e)}}}}},a.state={date:new Date,temperature:.7,length:40,language:"en",title:"Title",text:"",healthcheck:"Offline",status:"Ready"},a.changeTemperature=a.changeTemperature.bind(Object(m.a)(a)),a.changeLength=a.changeLength.bind(Object(m.a)(a)),a.ref=l.a.createRef(),a.handleLanguage=a.handleLanguage.bind(Object(m.a)(a)),a.quillRef=null,a.reactQuillRef=null,a.generateText=a.generateText.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.setTitle=a.setTitle.bind(Object(m.a)(a)),a.healthCheck=a.healthCheck.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.attachQuillRefs(),this.healthCheck()}},{key:"componentDidUpdate",value:function(){this.attachQuillRefs()}},{key:"handleChange",value:function(e){this.setState({text:e})}},{key:"changeTemperature",value:function(e){this.setState({temperature:e.target.value})}},{key:"changeLength",value:function(e){this.setState({length:e.target.value})}},{key:"handleLanguage",value:function(e){this.setState({language:e.target.value})}},{key:"setTitle",value:function(e){this.setState({title:e.target.value})}},{key:"generateText",value:function(){var e=this,t=this.reactQuillRef.getEditor(),a=this.reactQuillRef.makeUnprivilegedEditor(t).getText(),n=t.getSelection(!0);return a=a.substr(0,n.index),a=this.state.title+"\n"+a,this.state.status="Generating...",fetch("http://lyrics.jspijkervet.com/gpt2_lyrics",{method:"POST",cache:"no-cache",credentials:"omit",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({prompt:a,temperature:this.state.temperature,length:this.state.length,language:this.state.language}),redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(t){for(var a=[],l=0;l<t.lyrics.length;l++){var s={};s.id=l+1,s.value=t.lyrics[l],e.quillRef.insertText(n.index,s.value),a.push(s)}console.log(a),e.state.status="Ready"})).catch((function(t){console.error(t),e.state.status="Server Error"}))}},{key:"healthCheck",value:function(){var e=this;setTimeout(this.healthCheck,2e3),fetch("http://lyrics.jspijkervet.com/health",{method:"POST"}).then((function(t){t.ok&&e.setState({healthcheck:"Online"})})).catch((function(t){e.setState({healthcheck:"Offline"})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"sliders"},l.a.createElement("div",{className:"slider-container"},l.a.createElement("span",{className:"slider-name"},"Lijpe slider"),l.a.createElement("small",null,this.state.temperature),l.a.createElement("input",{className:"slider",type:"range",min:"0",max:"1",defaultValue:this.state.temperature,step:"0.1",onChange:this.changeTemperature})),l.a.createElement("div",{className:"slider-container"},l.a.createElement("span",{className:"slider-name"},"Words"),l.a.createElement("small",null,this.state.length),l.a.createElement("input",{className:"slider",type:"range",min:"1",max:"1000",defaultValue:this.state.length,step:"20",onChange:this.changeLength})),l.a.createElement("div",{className:"slider-container"},l.a.createElement("select",{id:"lang",onChange:this.handleLanguage,value:this.state.language},l.a.createElement("option",{value:"en"},"English"),l.a.createElement("option",{value:"nl"},"Nederlands"))),l.a.createElement("div",{className:"slider-container"},l.a.createElement("span",{className:"slider-name"},"Server"),l.a.createElement("span",{style:{color:"green"}},this.state.healthcheck)),l.a.createElement("div",{className:"slider-container"},l.a.createElement("span",{className:"slider-name"},"Status"),l.a.createElement("span",{style:{color:"orange"}},this.state.status))),l.a.createElement("hr",null),l.a.createElement("div",{id:"toolbar"},l.a.createElement("span",{className:"ql-formats"},l.a.createElement("button",{className:"generate-button",onClick:this.generateText},"Generate")),l.a.createElement("span",{className:"ql-formats"},l.a.createElement("select",{className:"ql-header"},l.a.createElement("option",{value:"1"},"Heading 1"),l.a.createElement("option",{value:"2"},"Heading 2"),l.a.createElement("option",{value:"3"},"Heading 3"),l.a.createElement("option",{value:"4"},"Heading 4"),l.a.createElement("option",{value:"5"},"Heading 5"),l.a.createElement("option",{value:"6"},"Heading 6"),l.a.createElement("option",{value:""},"Normal"))),l.a.createElement("span",{className:"ql-formats"},l.a.createElement("button",{className:"ql-bold"}),l.a.createElement("button",{className:"ql-italic"}),l.a.createElement("button",{className:"ql-underline"}),l.a.createElement("button",{className:"ql-strike"})),l.a.createElement("span",{className:"ql-formats"},l.a.createElement("button",{className:"ql-align",value:""}),l.a.createElement("button",{className:"ql-align",value:"center"}),l.a.createElement("button",{className:"ql-align",value:"right"}),l.a.createElement("button",{className:"ql-align",value:"justify"})),l.a.createElement("span",{className:"ql-formats"},l.a.createElement("select",{className:"ql-color"}),l.a.createElement("select",{className:"ql-background"})),l.a.createElement("span",{className:"ql-formats"},l.a.createElement("button",{className:"ql-blockquote"}))),l.a.createElement("div",{className:"title-container"},l.a.createElement("input",{className:"title",value:this.state.title,onChange:this.setTitle})),l.a.createElement(g.a,{value:this.state.text,onChange:this.handleChange,theme:"snow",modules:this.modules,formats:this.formats,ref:function(t){e.reactQuillRef=t}}))}}]),t}(l.a.Component)),f=function(e){function t(e){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("div",{className:"page-inner"},l.a.createElement(p,null))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){e.exports=a(170)},60:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.c2f77847.chunk.js.map